# DCad
 Сделан двумя студентами:
* [Пересторонин Аким](https://github.com/Mika-dot)
* [Трушин Владислав](https://github.com/TrushinVlad)

##  Добавление произвольной фигуры.
### Это кад полигональный.

Для добавления произвольной фигуры необходимо вызвать функцию генерации этой фигуры.

Класс CADMath, функции XOR и OR. Структура полизна представлена CreateComplexFigure.

Способ задать полигоны для фигуры.
```C#
Figures[i] = new List<Triangle>();
var link = Figures[i];

link.Add(new Triangle(
                      new Vector3(tr.Vertex1.X, tr.Vertex1.Y, tr.Vertex1.Z),
                      new Vector3(tr.Vertex2.X, tr.Vertex2.Y, tr.Vertex2.Z),
                      new Vector3(tr.Vertex3.X, tr.Vertex3.Y, tr.Vertex3.Z)
                     ));
```

Для того что бы сложить необходимо использовать следующий код.
```C#
Figures[i] = new List<Triangle>();
Figures[ID1] = CADMath.OR(Figures[ID1], Figures[ID2]);
```

Для того что бы вычисть необходимо использовать следующий код.
```C#
Figures[i] = new List<Triangle>();
Figures[ID1] = CADMath.XOR(Figures[ID1], Figures[ID2]);
```

Пример работы када целеком вместе с интерфейсом в качестве демонстрации.
<p align="center">
  <img src="https://github.com/Mika-dot/Cad/blob/V2-Experiment/media/xor.png?raw=true" alt="ConsoleWriteImage"/>
</p>

# Компиляция

Программа компилируется под Windows. Язык программирования C#. Файл .sln - основной файл проекта. Проект можно загрузить в Visual Studio (или любой другой редактор). Загружать дополнительные библиотеки не требуется, они идут вместе с проектом. Проект можно сразу же собрать и начать отлаживать.
Программа основана на Windows Forms и производит рендер объектов с помощью OpenGL. Визуализатор OpenGL (стороннее ПО) был получен и загружен с помощью NuGet.
Программа имеет примитивный интерфейс и состоит из одной формы - на ней расположено само окно для отображения модели, а также кнопки создания, сохранения и загрузки.

## Сохранение
Вся информация сохраняется в файл save.txt, расположенный в корневой директории программы.
На форме есть кнопки сохранения мира, температуры и G-Code. Последовательно нажимая их, можно сгенерировать файл save.txt, содержащий всю необходимую информацию для её последующей загрузки. Программа сохраняет не все воксели, а информацию о выдавливании и вырезании.

## Загрузка
При нажатии на кнопку "Воспроизвести" программа загружает информацию из save.txt и восстанавливает форму объекта и его температуру.

P.S. Это эксперимент по создания воксельного САПР.
